{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\S556370\\\\Desktop\\\\Final Project\\\\project\\\\src\\\\hooks\\\\appContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AppContextDispatchProvider = /*#__PURE__*/createContext();\nexport const AppContextStateProvider = /*#__PURE__*/createContext();\nconst defaultState = {\n  user: {},\n  profile: {},\n  isLoggedIn: false,\n  isProfileAvailable: false,\n  isProfileLoading: false,\n  initialGetProfile: false,\n  token: \"\",\n  searchByCategory: []\n};\nlet initialState = {};\nconst localStorageState = localStorage.getItem(\"localstate\");\nif (localStorageState) {\n  initialState = JSON.parse(localStorageState);\n} else {\n  initialState = defaultState;\n}\nconst reducer = (state, action) => {\n  const updatedState = (() => {\n    switch (action.type) {\n      case \"LOGIN\":\n        return {\n          ...state,\n          isLoggedIn: true,\n          token: action.payload.token,\n          user: action.payload\n        };\n      case \"LOGOUT\":\n        return {\n          ...defaultState\n        };\n      case \"PROFILE_LOADING\":\n        return {\n          ...state,\n          isProfileLoading: action.payload\n        };\n      case \"PROFILE_UPDATE\":\n        return {\n          ...state,\n          isProfileAvailable: action.payload.available,\n          profile: action.payload.data,\n          initialGetProfile: true\n        };\n      case \"SEARCH_BY_CATEGORY\":\n        return {\n          ...state,\n          searchByCategory: action.payload\n        };\n      default:\n        return state;\n    }\n  })();\n  localStorage.setItem(\"localstate\", JSON.stringify(updatedState));\n  return updatedState;\n};\nexport default function AppContext({\n  children\n}) {\n  _s();\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return /*#__PURE__*/_jsxDEV(AppContextDispatchProvider.Provider, {\n    value: dispatch,\n    children: /*#__PURE__*/_jsxDEV(AppContextStateProvider.Provider, {\n      value: state,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 12\n  }, this);\n}\n_s(AppContext, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n_c = AppContext;\nvar _c;\n$RefreshReg$(_c, \"AppContext\");","map":{"version":3,"names":["createContext","useReducer","jsxDEV","_jsxDEV","AppContextDispatchProvider","AppContextStateProvider","defaultState","user","profile","isLoggedIn","isProfileAvailable","isProfileLoading","initialGetProfile","token","searchByCategory","initialState","localStorageState","localStorage","getItem","JSON","parse","reducer","state","action","updatedState","type","payload","available","data","setItem","stringify","AppContext","children","_s","dispatch","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/S556370/Desktop/Final Project/project/src/hooks/appContext.js"],"sourcesContent":["import { createContext, useReducer } from \"react\";\r\n\r\nexport const AppContextDispatchProvider = createContext();\r\nexport const AppContextStateProvider = createContext();\r\n\r\nconst defaultState = {\r\n    user: {},\r\n    profile: {},\r\n    isLoggedIn: false,\r\n    isProfileAvailable: false,\r\n    isProfileLoading: false,\r\n    initialGetProfile: false,\r\n    token: \"\",\r\n    searchByCategory: []\r\n};\r\n\r\nlet initialState = {};\r\n\r\nconst localStorageState = localStorage.getItem(\"localstate\");\r\nif (localStorageState) {\r\n    initialState = JSON.parse(localStorageState);\r\n} else {\r\n    initialState = defaultState;\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n    const updatedState = (() => {\r\n        switch (action.type) {\r\n            case \"LOGIN\": return {\r\n                ...state,\r\n                isLoggedIn: true,\r\n                token: action.payload.token,\r\n                user: action.payload\r\n            };\r\n            case \"LOGOUT\": return {\r\n                ...defaultState\r\n            }\r\n            case \"PROFILE_LOADING\": return {\r\n                ...state,\r\n                isProfileLoading: action.payload,\r\n            }\r\n            case \"PROFILE_UPDATE\": return {\r\n                ...state,\r\n                isProfileAvailable: action.payload.available,\r\n                profile: action.payload.data,\r\n                initialGetProfile: true\r\n            }\r\n            case \"SEARCH_BY_CATEGORY\": return {\r\n                ...state,\r\n                searchByCategory: action.payload\r\n            }\r\n            default: return state;\r\n        }\r\n    })();\r\n\r\n    localStorage.setItem(\"localstate\", JSON.stringify(updatedState));\r\n    return updatedState;\r\n}\r\n\r\nexport default function AppContext({ children }) {\r\n    const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n    return <AppContextDispatchProvider.Provider value={dispatch}>\r\n        <AppContextStateProvider.Provider value={state}>\r\n            {children}\r\n        </AppContextStateProvider.Provider>\r\n    </AppContextDispatchProvider.Provider>\r\n}\r\n"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,UAAU,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAElD,OAAO,MAAMC,0BAA0B,gBAAGJ,aAAa,CAAC,CAAC;AACzD,OAAO,MAAMK,uBAAuB,gBAAGL,aAAa,CAAC,CAAC;AAEtD,MAAMM,YAAY,GAAG;EACjBC,IAAI,EAAE,CAAC,CAAC;EACRC,OAAO,EAAE,CAAC,CAAC;EACXC,UAAU,EAAE,KAAK;EACjBC,kBAAkB,EAAE,KAAK;EACzBC,gBAAgB,EAAE,KAAK;EACvBC,iBAAiB,EAAE,KAAK;EACxBC,KAAK,EAAE,EAAE;EACTC,gBAAgB,EAAE;AACtB,CAAC;AAED,IAAIC,YAAY,GAAG,CAAC,CAAC;AAErB,MAAMC,iBAAiB,GAAGC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;AAC5D,IAAIF,iBAAiB,EAAE;EACnBD,YAAY,GAAGI,IAAI,CAACC,KAAK,CAACJ,iBAAiB,CAAC;AAChD,CAAC,MAAM;EACHD,YAAY,GAAGT,YAAY;AAC/B;AAEA,MAAMe,OAAO,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;EAC/B,MAAMC,YAAY,GAAG,CAAC,MAAM;IACxB,QAAQD,MAAM,CAACE,IAAI;MACf,KAAK,OAAO;QAAE,OAAO;UACjB,GAAGH,KAAK;UACRb,UAAU,EAAE,IAAI;UAChBI,KAAK,EAAEU,MAAM,CAACG,OAAO,CAACb,KAAK;UAC3BN,IAAI,EAAEgB,MAAM,CAACG;QACjB,CAAC;MACD,KAAK,QAAQ;QAAE,OAAO;UAClB,GAAGpB;QACP,CAAC;MACD,KAAK,iBAAiB;QAAE,OAAO;UAC3B,GAAGgB,KAAK;UACRX,gBAAgB,EAAEY,MAAM,CAACG;QAC7B,CAAC;MACD,KAAK,gBAAgB;QAAE,OAAO;UAC1B,GAAGJ,KAAK;UACRZ,kBAAkB,EAAEa,MAAM,CAACG,OAAO,CAACC,SAAS;UAC5CnB,OAAO,EAAEe,MAAM,CAACG,OAAO,CAACE,IAAI;UAC5BhB,iBAAiB,EAAE;QACvB,CAAC;MACD,KAAK,oBAAoB;QAAE,OAAO;UAC9B,GAAGU,KAAK;UACRR,gBAAgB,EAAES,MAAM,CAACG;QAC7B,CAAC;MACD;QAAS,OAAOJ,KAAK;IACzB;EACJ,CAAC,EAAE,CAAC;EAEJL,YAAY,CAACY,OAAO,CAAC,YAAY,EAAEV,IAAI,CAACW,SAAS,CAACN,YAAY,CAAC,CAAC;EAChE,OAAOA,YAAY;AACvB,CAAC;AAED,eAAe,SAASO,UAAUA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAC7C,MAAM,CAACX,KAAK,EAAEY,QAAQ,CAAC,GAAGjC,UAAU,CAACoB,OAAO,EAAEN,YAAY,CAAC;EAE3D,oBAAOZ,OAAA,CAACC,0BAA0B,CAAC+B,QAAQ;IAACC,KAAK,EAAEF,QAAS;IAAAF,QAAA,eACxD7B,OAAA,CAACE,uBAAuB,CAAC8B,QAAQ;MAACC,KAAK,EAAEd,KAAM;MAAAU,QAAA,EAC1CA;IAAQ;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACqB;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAC1C;AAACP,EAAA,CARuBF,UAAU;AAAAU,EAAA,GAAVV,UAAU;AAAA,IAAAU,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}