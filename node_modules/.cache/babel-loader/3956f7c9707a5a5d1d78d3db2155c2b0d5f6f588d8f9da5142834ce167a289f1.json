{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\S556370\\\\Desktop\\\\Final Project\\\\project\\\\src\\\\components\\\\ForgotPassword.js\",\n  _s = $RefreshSig$();\nimport { Button, TextField, Typography } from \"@mui/material\";\nimport { useState } from \"react\";\nimport styled from \"styled-components\";\nimport useUser from \"../hooks/useUserHook\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ForgotPasswordContainer = styled.div`\n  border-radius: 1rem;\n  box-shadow: 0px 0px 5px 0px rgba(202, 239, 255, 0.43);\n  padding: 1rem;\n  background-color: whitesmoke;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n`;\n_c = ForgotPasswordContainer;\nexport default function ForgotPassword({\n  onForgotPasswordClose = () => {}\n}) {\n  _s();\n  const [email, setEmail] = useState(\"\");\n  const [code, setCode] = useState(\"\");\n  const [disableEmail, setDisableEmail] = useState(false);\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const {\n    forgotPassword,\n    changePassword\n  } = useUser();\n  const handleSubmit = async () => {\n    setError(\"\");\n    setLoading(true);\n    try {\n      if (!disableEmail) {\n        if (!email) throw new Error(\"Please enter Email\");\n        setDisableEmail(true);\n        await forgotPassword(email);\n      } else {\n        if (!code) throw new Error(\"Please enter the code\");\n        if (password.trim() && password !== confirmPassword) throw new Error(\"Entered Passwords doesn't match\");\n        await changePassword({\n          email,\n          code,\n          password\n        });\n        onForgotPasswordClose();\n      }\n    } catch (error) {\n      setError((error === null || error === void 0 ? void 0 : error.message) || \"Something went wrong\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(ForgotPasswordContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      children: \"Forgot Password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      variant: \"outlined\",\n      size: \"small\",\n      required: true,\n      label: \"Username\",\n      value: email,\n      disabled: disableEmail,\n      onChange: e => setEmail(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), disableEmail && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        variant: \"outlined\",\n        size: \"small\",\n        label: \"Code\",\n        value: code,\n        disabled: loading,\n        required: true,\n        onChange: e => setCode(/^[0-9]*$/.test(e.target.value) ? e.target.value : code)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        variant: \"outlined\",\n        size: \"small\",\n        label: \"Password\",\n        value: password,\n        type: \"password\",\n        disabled: loading,\n        required: true,\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        variant: \"outlined\",\n        size: \"small\",\n        label: \"Confirm Password\",\n        type: \"password\",\n        value: confirmPassword,\n        disabled: loading,\n        required: true,\n        onChange: e => setConfirmPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(Button, {\n      size: \"small\",\n      onClick: handleSubmit,\n      disabled: loading,\n      children: disableEmail ? \"Continue\" : \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"caption\",\n        color: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        color: \"error\",\n        onClick: onForgotPasswordClose,\n        disabled: loading,\n        children: \"Back to login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(ForgotPassword, \"NJ/2UwZdD6m4skzVljGROGJ+opc=\", false, function () {\n  return [useUser];\n});\n_c2 = ForgotPassword;\nvar _c, _c2;\n$RefreshReg$(_c, \"ForgotPasswordContainer\");\n$RefreshReg$(_c2, \"ForgotPassword\");","map":{"version":3,"names":["Button","TextField","Typography","useState","styled","useUser","jsxDEV","_jsxDEV","Fragment","_Fragment","ForgotPasswordContainer","div","_c","ForgotPassword","onForgotPasswordClose","_s","email","setEmail","code","setCode","disableEmail","setDisableEmail","password","setPassword","confirmPassword","setConfirmPassword","loading","setLoading","error","setError","forgotPassword","changePassword","handleSubmit","Error","trim","message","children","variant","fileName","_jsxFileName","lineNumber","columnNumber","size","required","label","value","disabled","onChange","e","target","test","type","onClick","style","display","justifyContent","color","_c2","$RefreshReg$"],"sources":["C:/Users/S556370/Desktop/Final Project/project/src/components/ForgotPassword.js"],"sourcesContent":["import { Button, TextField, Typography } from \"@mui/material\";\r\nimport { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport useUser from \"../hooks/useUserHook\";\r\n\r\nconst ForgotPasswordContainer = styled.div`\r\n  border-radius: 1rem;\r\n  box-shadow: 0px 0px 5px 0px rgba(202, 239, 255, 0.43);\r\n  padding: 1rem;\r\n  background-color: whitesmoke;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 1rem;\r\n`;\r\n\r\nexport default function ForgotPassword({ onForgotPasswordClose = () => {} }) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [code, setCode] = useState(\"\");\r\n  const [disableEmail, setDisableEmail] = useState(false);\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const { forgotPassword, changePassword } = useUser();\r\n\r\n  const handleSubmit = async () => {\r\n    setError(\"\");\r\n    setLoading(true);\r\n    try {\r\n      if (!disableEmail) {\r\n        if (!email) throw new Error(\"Please enter Email\");\r\n        setDisableEmail(true);\r\n        await forgotPassword(email);\r\n      } else {\r\n        if (!code) throw new Error(\"Please enter the code\");\r\n        if (password.trim() && password !== confirmPassword) throw new Error(\"Entered Passwords doesn't match\");\r\n        await changePassword({ email, code, password });\r\n        onForgotPasswordClose();\r\n      }\r\n    } catch (error) {\r\n      setError(error?.message || \"Something went wrong\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <ForgotPasswordContainer>\r\n      <Typography variant=\"h5\">Forgot Password</Typography>\r\n      <TextField\r\n        variant=\"outlined\"\r\n        size=\"small\"\r\n        required\r\n        label=\"Username\"\r\n        value={email}\r\n        disabled={disableEmail}\r\n        onChange={(e) => setEmail(e.target.value)}\r\n      />\r\n      {disableEmail && (\r\n        <>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            label=\"Code\"\r\n            value={code}\r\n            disabled={loading}\r\n            required\r\n            onChange={(e) => setCode(/^[0-9]*$/.test(e.target.value) ? e.target.value : code)}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            label=\"Password\"\r\n            value={password}\r\n            type=\"password\"\r\n            disabled={loading}\r\n            required\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            label=\"Confirm Password\"\r\n            type=\"password\"\r\n            value={confirmPassword}\r\n            disabled={loading}\r\n            required\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n          />\r\n        </>\r\n      )}\r\n      <Button size=\"small\" onClick={handleSubmit} disabled={loading}>\r\n        {disableEmail ? \"Continue\" : \"Submit\"}\r\n      </Button>\r\n\r\n      {error && (\r\n        <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n          <Typography variant=\"caption\" color=\"error\">\r\n            {error}\r\n          </Typography>\r\n        </div>\r\n      )}\r\n\r\n      <div>\r\n        <Button size=\"small\" color=\"error\" onClick={onForgotPasswordClose} disabled={loading}>\r\n          Back to login\r\n        </Button>\r\n      </div>\r\n    </ForgotPasswordContainer>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}