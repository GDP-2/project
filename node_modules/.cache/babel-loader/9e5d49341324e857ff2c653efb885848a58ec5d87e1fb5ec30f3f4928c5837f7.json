{"ast":null,"code":"import axios from \"axios\";\nexport const postApi = async (url, payload = {}, useToken = true) => {\n  try {\n    const localState = localStorage.getItem(\"localstate\");\n    let appToken = \"\";\n    if (localState) {\n      const {\n        token\n      } = JSON.parse(localState);\n      appToken = token;\n    }\n    const headers = {\n      headers: {\n        Authorization: useToken ? \"Bearer \" + appToken : \"\"\n      }\n    };\n    const response = await axios.post(url, payload, headers);\n    return response.data;\n  } catch (error) {\n    if (error.response) {\n      return error.response.data.message;\n    } else if (error.request) {\n      return error.request;\n    } else {\n      return error.message;\n    }\n  }\n};\nexport const putApi = async (url, payload = {}) => {\n  try {\n    const localState = localStorage.getItem(\"localstate\");\n    let appToken = \"\";\n    if (localState) {\n      const {\n        token\n      } = JSON.parse(localState);\n      appToken = token;\n    }\n    const headers = {\n      headers: {\n        Authorization: \"Bearer \" + appToken\n      }\n    };\n    const response = await axios.put(url, payload, headers);\n    return response.data;\n  } catch (error) {\n    if (error.response) {\n      return error.response.data.message;\n    } else if (error.request) {\n      return error.request;\n    } else {\n      return error.message;\n    }\n  }\n};\nexport const getApi = async (url, userToken = \"\") => {\n  try {\n    const localState = localStorage.getItem(\"localstate\");\n    let appToken = userToken;\n    if (localState && !userToken) {\n      const {\n        token\n      } = JSON.parse(localState);\n      appToken = token;\n    }\n    const headers = {\n      headers: {\n        Authorization: \"Bearer \" + appToken\n      }\n    };\n    const response = await axios.get(url, headers);\n    return response.data;\n  } catch (error) {\n    if (error.response) {\n      return error.response.data.message;\n    } else if (error.request) {\n      return error.request;\n    } else {\n      return error.message;\n    }\n  }\n};\nexport const deleteApi = async (url, payload = {}, useToken = true) => {\n  try {\n    const localState = localStorage.getItem(\"localstate\");\n    let appToken = \"\";\n    if (localState) {\n      const {\n        token\n      } = JSON.parse(localState);\n      appToken = token;\n    }\n    const headers = {\n      headers: {\n        Authorization: useToken ? \"Bearer \" + appToken : \"\"\n      }\n    };\n    const response = await axios.delete(url, headers);\n    return response.data;\n  } catch (error) {\n    if (error.response) {\n      return error.response.data.message;\n    } else if (error.request) {\n      return error.request;\n    } else {\n      return error.message;\n    }\n  }\n};","map":{"version":3,"names":["axios","postApi","url","payload","useToken","localState","localStorage","getItem","appToken","token","JSON","parse","headers","Authorization","response","post","data","error","message","request","putApi","put","getApi","userToken","get","deleteApi","delete"],"sources":["C:/Users/S556370/Desktop/Final Project/project/src/utils/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const postApi = async (url, payload = {}, useToken = true) => {\r\n  try {\r\n    const localState = localStorage.getItem(\"localstate\");\r\n    let appToken = \"\";\r\n    if (localState) {\r\n      const { token } = JSON.parse(localState);\r\n      appToken = token;\r\n    }\r\n    const headers = {\r\n      headers: {\r\n        Authorization: useToken ? \"Bearer \" + appToken : \"\",\r\n      },\r\n    };\r\n    const response = await axios.post(url, payload, headers);\r\n    return response.data;\r\n  } catch (error) {\r\n    if (error.response) {\r\n      return error.response.data.message;\r\n    } else if (error.request) {\r\n      return error.request;\r\n    } else {\r\n      return error.message;\r\n    }\r\n  }\r\n};\r\n\r\nexport const putApi = async (url, payload = {}) => {\r\n  try {\r\n    const localState = localStorage.getItem(\"localstate\");\r\n    let appToken = \"\";\r\n    if (localState) {\r\n      const { token } = JSON.parse(localState);\r\n      appToken = token;\r\n    }\r\n    const headers = {\r\n      headers: {\r\n        Authorization: \"Bearer \" + appToken,\r\n      },\r\n    };\r\n    const response = await axios.put(url, payload, headers);\r\n    return response.data;\r\n  } catch (error) {\r\n    if (error.response) {\r\n      return error.response.data.message;\r\n    } else if (error.request) {\r\n      return error.request;\r\n    } else {\r\n      return error.message;\r\n    }\r\n  }\r\n};\r\n\r\nexport const getApi = async (url, userToken = \"\") => {\r\n  try {\r\n    const localState = localStorage.getItem(\"localstate\");\r\n    let appToken = userToken;\r\n    if (localState && !userToken) {\r\n      const { token } = JSON.parse(localState);\r\n      appToken = token;\r\n    }\r\n    const headers = {\r\n      headers: {\r\n        Authorization: \"Bearer \" + appToken,\r\n      },\r\n    };\r\n    const response = await axios.get(url, headers);\r\n    return response.data;\r\n  } catch (error) {\r\n    if (error.response) {\r\n      return error.response.data.message;\r\n    } else if (error.request) {\r\n      return error.request;\r\n    } else {\r\n      return error.message;\r\n    }\r\n  }\r\n};\r\n\r\nexport const deleteApi = async (url, payload = {}, useToken = true) => {\r\n  try {\r\n    const localState = localStorage.getItem(\"localstate\");\r\n    let appToken = \"\";\r\n    if (localState) {\r\n      const { token } = JSON.parse(localState);\r\n      appToken = token;\r\n    }\r\n    const headers = {\r\n      headers: {\r\n        Authorization: useToken ? \"Bearer \" + appToken : \"\",\r\n      },\r\n    };\r\n    const response = await axios.delete(url, headers);\r\n    return response.data;\r\n  } catch (error) {\r\n    if (error.response) {\r\n      return error.response.data.message;\r\n    } else if (error.request) {\r\n      return error.request;\r\n    } else {\r\n      return error.message;\r\n    }\r\n  }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}