{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\S556370\\\\Desktop\\\\Final Project\\\\project\\\\src\\\\components\\\\Chat\\\\ChatUsers.js\",\n  _s = $RefreshSig$();\nimport { Badge, Button, Collapse, IconButton, TextField, Typography } from \"@mui/material\";\nimport { MagnifyingGlass, Minus } from \"@phosphor-icons/react\";\nimport { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport useAppContext from \"../../hooks/useAppContextHook\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatUserContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 275px;\n  background-color: #d7daf7;\n  border: 0.5px solid #d7daf7;\n`;\n_c = ChatUserContainer;\nconst ChatUserCardContainer = styled.div`\n  padding-inline: 1rem;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 0.5px solid #b8c2cf;\n  cursor: pointer;\n`;\n_c2 = ChatUserCardContainer;\nexport default function ChatUsers({\n  users = [],\n  onStartChat = () => {},\n  onClickUser = () => {}\n}) {\n  _s();\n  const [show, setShow] = useState(false);\n  const [searchVal, setSearchVal] = useState(\"\");\n  const [filteredUsers, setFilteredUsers] = useState([]);\n  let isUnread = false;\n  users.forEach(({\n    unread = false\n  }) => {\n    if (unread) {\n      isUnread = true;\n      return;\n    }\n  });\n  const {\n    appState: {\n      user: {\n        username\n      }\n    }\n  } = useAppContext();\n  useEffect(() => {\n    setFilteredUsers([...users]);\n  }, [users]);\n  const handleFilter = e => {\n    const {\n      value\n    } = e.target;\n    const usersData = users.filter(item => {\n      var _item$recipient;\n      return (_item$recipient = item.recipient) === null || _item$recipient === void 0 ? void 0 : _item$recipient.toLowerCase().includes(value.toLowerCase());\n    });\n    setFilteredUsers([...usersData]);\n    setSearchVal(value);\n  };\n  return /*#__PURE__*/_jsxDEV(ChatUserContainer, {\n    children: [/*#__PURE__*/_jsxDEV(Collapse, {\n      in: !show,\n      children: /*#__PURE__*/_jsxDEV(ChatUserCardContainer, {\n        onClick: () => setShow(true),\n        style: {\n          borderBottom: \"none\",\n          ...(isUnread ? {\n            backgroundColor: \"#7c87f6\"\n          } : {})\n        },\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle2\",\n          children: \"Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Collapse, {\n      in: show,\n      children: [/*#__PURE__*/_jsxDEV(ChatUserCardContainer, {\n        style: {\n          padding: \"0.5rem\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          size: \"small\",\n          placeholder: \"Search\",\n          fullWidth: true,\n          InputProps: {\n            endAdornment: /*#__PURE__*/_jsxDEV(MagnifyingGlass, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 41\n            }, this)\n          },\n          value: searchVal,\n          onChange: handleFilter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          size: \"small\",\n          onClick: () => setShow(false),\n          children: /*#__PURE__*/_jsxDEV(Minus, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), (filteredUsers === null || filteredUsers === void 0 ? void 0 : filteredUsers.length) <= 0 ? /*#__PURE__*/_jsxDEV(ChatUserCardContainer, {\n        style: {\n          padding: \"0.5rem\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          fullWidth: true,\n          disabled: searchVal.trim() && username !== searchVal.trim() ? false : true,\n          onClick: () => {\n            onStartChat(searchVal.trim());\n            setFilteredUsers([...users]);\n            setShow(false);\n            setSearchVal(\"\");\n          },\n          children: \"Start Chat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 11\n      }, this) : null, filteredUsers.map(item => /*#__PURE__*/_jsxDEV(ChatUserCard, {\n        data: item,\n        onClickUser: () => onClickUser(item)\n      }, item === null || item === void 0 ? void 0 : item.recipient, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatUsers, \"wIjjVWgj9vs1hrE3DZ0PT8mVo20=\", false, function () {\n  return [useAppContext];\n});\n_c3 = ChatUsers;\nfunction ChatUserCard({\n  data = {},\n  onClickUser = () => {}\n}) {\n  return /*#__PURE__*/_jsxDEV(ChatUserCardContainer, {\n    onClick: onClickUser,\n    style: {\n      ...(data !== null && data !== void 0 && data.unread ? {\n        backgroundColor: \"#7c87f6\"\n      } : {})\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      children: data === null || data === void 0 ? void 0 : data.recipient\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Badge, {\n      color: \"primary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n}\n_c4 = ChatUserCard;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"ChatUserContainer\");\n$RefreshReg$(_c2, \"ChatUserCardContainer\");\n$RefreshReg$(_c3, \"ChatUsers\");\n$RefreshReg$(_c4, \"ChatUserCard\");","map":{"version":3,"names":["Badge","Button","Collapse","IconButton","TextField","Typography","MagnifyingGlass","Minus","useEffect","useState","styled","useAppContext","jsxDEV","_jsxDEV","ChatUserContainer","div","_c","ChatUserCardContainer","_c2","ChatUsers","users","onStartChat","onClickUser","_s","show","setShow","searchVal","setSearchVal","filteredUsers","setFilteredUsers","isUnread","forEach","unread","appState","user","username","handleFilter","e","value","target","usersData","filter","item","_item$recipient","recipient","toLowerCase","includes","children","in","onClick","style","borderBottom","backgroundColor","variant","fileName","_jsxFileName","lineNumber","columnNumber","padding","size","placeholder","fullWidth","InputProps","endAdornment","onChange","length","disabled","trim","map","ChatUserCard","data","_c3","color","_c4","$RefreshReg$"],"sources":["C:/Users/S556370/Desktop/Final Project/project/src/components/Chat/ChatUsers.js"],"sourcesContent":["import { Badge, Button, Collapse, IconButton, TextField, Typography } from \"@mui/material\";\r\nimport { MagnifyingGlass, Minus } from \"@phosphor-icons/react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport useAppContext from \"../../hooks/useAppContextHook\";\r\n\r\nconst ChatUserContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 275px;\r\n  background-color: #d7daf7;\r\n  border: 0.5px solid #d7daf7;\r\n`;\r\n\r\nconst ChatUserCardContainer = styled.div`\r\n  padding-inline: 1rem;\r\n  height: 40px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  border-bottom: 0.5px solid #b8c2cf;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport default function ChatUsers({ users = [], onStartChat = () => {}, onClickUser = () => {} }) {\r\n  const [show, setShow] = useState(false);\r\n  const [searchVal, setSearchVal] = useState(\"\");\r\n  const [filteredUsers, setFilteredUsers] = useState([]);\r\n\r\n  let isUnread = false;\r\n  users.forEach(({ unread = false }) => {\r\n    if (unread) {\r\n      isUnread = true;\r\n      return;\r\n    }\r\n  });\r\n\r\n  const {\r\n    appState: {\r\n      user: { username },\r\n    },\r\n  } = useAppContext();\r\n\r\n  useEffect(() => {\r\n    setFilteredUsers([...users]);\r\n  }, [users]);\r\n\r\n  const handleFilter = (e) => {\r\n    const { value } = e.target;\r\n    const usersData = users.filter((item) => item.recipient?.toLowerCase().includes(value.toLowerCase()));\r\n    setFilteredUsers([...usersData]);\r\n    setSearchVal(value);\r\n  };\r\n\r\n  return (\r\n    <ChatUserContainer>\r\n      <Collapse in={!show}>\r\n        <ChatUserCardContainer\r\n          onClick={() => setShow(true)}\r\n          style={{\r\n            borderBottom: \"none\",\r\n            ...(isUnread\r\n              ? {\r\n                  backgroundColor: \"#7c87f6\",\r\n                }\r\n              : {}),\r\n          }}\r\n        >\r\n          <Typography variant=\"subtitle2\">Chat</Typography>\r\n        </ChatUserCardContainer>\r\n      </Collapse>\r\n      <Collapse in={show}>\r\n        <ChatUserCardContainer style={{ padding: \"0.5rem\" }}>\r\n          <TextField\r\n            size=\"small\"\r\n            placeholder=\"Search\"\r\n            fullWidth\r\n            InputProps={{ endAdornment: <MagnifyingGlass /> }}\r\n            value={searchVal}\r\n            onChange={handleFilter}\r\n          />\r\n          <IconButton size=\"small\" onClick={() => setShow(false)}>\r\n            <Minus />\r\n          </IconButton>\r\n        </ChatUserCardContainer>\r\n        {filteredUsers?.length <= 0 ? (\r\n          <ChatUserCardContainer style={{ padding: \"0.5rem\" }}>\r\n            <Button\r\n              variant=\"contained\"\r\n              fullWidth\r\n              disabled={searchVal.trim() && username !== searchVal.trim() ? false : true}\r\n              onClick={() => {\r\n                onStartChat(searchVal.trim());\r\n                setFilteredUsers([...users]);\r\n                setShow(false);\r\n                setSearchVal(\"\");\r\n              }}\r\n            >\r\n              Start Chat\r\n            </Button>\r\n          </ChatUserCardContainer>\r\n        ) : null}\r\n        {filteredUsers.map((item) => (\r\n          <ChatUserCard key={item?.recipient} data={item} onClickUser={() => onClickUser(item)} />\r\n        ))}\r\n      </Collapse>\r\n    </ChatUserContainer>\r\n  );\r\n}\r\n\r\nfunction ChatUserCard({ data = {}, onClickUser = () => {} }) {\r\n  return (\r\n    <ChatUserCardContainer\r\n      onClick={onClickUser}\r\n      style={{\r\n        ...(data?.unread\r\n          ? {\r\n              backgroundColor: \"#7c87f6\",\r\n            }\r\n          : {}),\r\n      }}\r\n    >\r\n      <Typography variant=\"body2\">{data?.recipient}</Typography>\r\n      <Badge color=\"primary\"></Badge>\r\n    </ChatUserCardContainer>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}